{"ast":null,"code":"import _regeneratorRuntime from\"/Users/andrewsquier/sei/project/pasta-bar/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/andrewsquier/sei/project/pasta-bar/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/andrewsquier/sei/project/pasta-bar/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/andrewsquier/sei/project/pasta-bar/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/andrewsquier/sei/project/pasta-bar/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/andrewsquier/sei/project/pasta-bar/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/andrewsquier/sei/project/pasta-bar/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/andrewsquier/sei/project/pasta-bar/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from\"react\";import{signUp}from\"../../utilities/users-service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUpForm=/*#__PURE__*/function(_Component){_inherits(SignUpForm,_Component);var _super=_createSuper(SignUpForm);function SignUpForm(){var _this;_classCallCheck(this,SignUpForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:\"\",email:\"\",password:\"\",confirm:\"\",error:\"\"};_this.handleChange=function(event){var _this$setState;_this.setState((_this$setState={},_defineProperty(_this$setState,event.target.name,event.target.value),_defineProperty(_this$setState,\"error\",\"\"),_this$setState));};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var formData,user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();//alert(JSON.stringify(this.state))\n_context.prev=1;formData=_objectSpread({},_this.state);delete formData.error;delete formData.confirm;//console.log(\"FormData: \", formData)\n//wait for a response from the server\n_context.next=7;return signUp(formData);case 7:user=_context.sent;//logging the token\nconsole.log(\"UserData: \",user);// console.log(this.props)\n_this.props.setUser(user);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);//if the try doesn't work, error handle\nconsole.error(_context.t0);_this.setState({error:\"Sign Up failed, try again later \"});case 16:case\"end\":return _context.stop();}},_callee,null,[[1,12]]);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(SignUpForm,[{key:\"render\",value:function render(){var disable=this.state.password!==this.state.confirm;return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:this.state.name,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:this.state.email,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:this.state.password,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Confirm\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirm\",value:this.state.confirm,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:disable,children:\"SIGN UP\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"error-message\",children:[\"\\xA0\",this.state.error]})]});}}]);return SignUpForm;}(Component);export{SignUpForm as default};","map":{"version":3,"names":["Component","signUp","SignUpForm","state","name","email","password","confirm","error","handleChange","event","setState","target","value","handleSubmit","preventDefault","formData","user","console","log","props","setUser","disable"],"sources":["/Users/andrewsquier/sei/project/pasta-bar/src/components/SignUpForm/SignUpForm.js"],"sourcesContent":["import { Component } from \"react\";\nimport { signUp } from \"../../utilities/users-service\"\n\nexport default class SignUpForm extends Component {\n\n    state = {\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        confirm: \"\",\n        error: \"\"\n    }\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value,\n            error: \"\"\n\n        })\n    }\n    handleSubmit = async (event) => {\n        event.preventDefault()\n        //alert(JSON.stringify(this.state))\n        try {\n            const formData = {...this.state}\n            delete formData.error\n            delete formData.confirm\n            //console.log(\"FormData: \", formData)\n\n            //wait for a response from the server\n            const user = await signUp(formData)\n            //logging the token\n            console.log(\"UserData: \", user)\n            // console.log(this.props)\n            this.props.setUser(user)\n\n        } catch (error) {\n            //if the try doesn't work, error handle\n            console.error(error)\n            this.setState({\n                error:\"Sign Up failed, try again later \"\n            })\n        }\n    }\n\n    render() {\n        const disable = this.state.password !== this.state.confirm\n        return(\n            <div className=\"form-container\">\n                <form autoComplete=\"off\" onSubmit={this.handleSubmit}>\n                <label>Name</label>\n                <input type=\"text\" name=\"name\" value={this.state.name} onChange={this.handleChange} required />\n                <label>Email</label>\n                <input type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleChange} required />\n                <label>Password</label>\n                <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChange} required />\n                <label>Confirm</label>\n                <input type=\"password\" name=\"confirm\" value={this.state.confirm} onChange={this.handleChange} required />\n                <button type=\"submit\" disabled={disable}>SIGN UP</button>\n                </form>\n                <p className=\"error-message\">&nbsp;{this.state.error}</p>\n            </div>\n        )\n    }\n}"],"mappings":"y/BAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,MAAM,KAAQ,+BAA+B,4FAEjCC,WAAU,2UAE3BC,KAAK,CAAG,CACJC,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EAAE,CACZC,OAAO,CAAE,EAAE,CACXC,KAAK,CAAE,EACX,CAAC,OAEDC,YAAY,CAAG,SAACC,KAAK,CAAK,oBACtB,MAAKC,QAAQ,mDACRD,KAAK,CAACE,MAAM,CAACR,IAAI,CAAGM,KAAK,CAACE,MAAM,CAACC,KAAK,yCAChC,EAAE,kBAEX,CACN,CAAC,OACDC,YAAY,4FAAG,iBAAOJ,KAAK,qIACvBA,KAAK,CAACK,cAAc,EAAE,CACtB;AAAA,gBAEUC,QAAQ,kBAAO,MAAKb,KAAK,EAC/B,MAAOa,SAAQ,CAACR,KAAK,CACrB,MAAOQ,SAAQ,CAACT,OAAO,CACvB;AAEA;AAAA,sBACmBN,OAAM,CAACe,QAAQ,CAAC,QAA7BC,IAAI,eACV;AACAC,OAAO,CAACC,GAAG,CAAC,YAAY,CAAEF,IAAI,CAAC,CAC/B;AACA,MAAKG,KAAK,CAACC,OAAO,CAACJ,IAAI,CAAC,kFAGxB;AACAC,OAAO,CAACV,KAAK,aAAO,CACpB,MAAKG,QAAQ,CAAC,CACVH,KAAK,CAAC,kCACV,CAAC,CAAC,qEAET,0HAED,iBAAS,CACL,GAAMc,QAAO,CAAG,IAAI,CAACnB,KAAK,CAACG,QAAQ,GAAK,IAAI,CAACH,KAAK,CAACI,OAAO,CAC1D,mBACI,aAAK,SAAS,CAAC,gBAAgB,wBAC3B,cAAM,YAAY,CAAC,KAAK,CAAC,QAAQ,CAAE,IAAI,CAACO,YAAa,wBACrD,uBAAO,MAAI,EAAQ,cACnB,cAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAE,IAAI,CAACX,KAAK,CAACC,IAAK,CAAC,QAAQ,CAAE,IAAI,CAACK,YAAa,CAAC,QAAQ,OAAG,cAC/F,uBAAO,OAAK,EAAQ,cACpB,cAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAE,IAAI,CAACN,KAAK,CAACE,KAAM,CAAC,QAAQ,CAAE,IAAI,CAACI,YAAa,CAAC,QAAQ,OAAG,cAClG,uBAAO,UAAQ,EAAQ,cACvB,cAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAE,IAAI,CAACN,KAAK,CAACG,QAAS,CAAC,QAAQ,CAAE,IAAI,CAACG,YAAa,CAAC,QAAQ,OAAG,cAC3G,uBAAO,SAAO,EAAQ,cACtB,cAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAE,IAAI,CAACN,KAAK,CAACI,OAAQ,CAAC,QAAQ,CAAE,IAAI,CAACE,YAAa,CAAC,QAAQ,OAAG,cACzG,eAAQ,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAEa,OAAQ,UAAC,SAAO,EAAS,GAClD,cACP,WAAG,SAAS,CAAC,eAAe,WAAC,MAAM,CAAC,IAAI,CAACnB,KAAK,CAACK,KAAK,GAAK,GACvD,CAEd,CAAC,wBA5DmCR,SAAS,SAA5BE,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}